{"version":3,"sources":["webpack:///D:/project/uniapp/myUniapp/components/search.vue?17d0","webpack:///D:/project/uniapp/myUniapp/components/search.vue?40db","webpack:///D:/project/uniapp/myUniapp/components/search.vue?7132","webpack:///D:/project/uniapp/myUniapp/components/search.vue?6496","webpack:///D:/project/uniapp/myUniapp/components/search.vue","webpack:///D:/project/uniapp/myUniapp/components/search.vue?a102","webpack:///D:/project/uniapp/myUniapp/components/search.vue?c151"],"names":["debounce","fn","wait","timer","clearTimeout","setTimeout","that","components","uniNavBar","data","isShow","isFocus","searchTxt","historyList","hotList","suggestList","created","methods","close","$emit","open","getSearchList","getHotList","blurSearch","length","then","res","value","uni","getStorageSync","JSON","parse","e","clearSearch","showModal","title","content","success","confirm","setStorageSync","cancel","addSearch","txt","trim","tempIndex","indexOf","splice","unshift","slice","stringify","inputSearch","par","type","keywords","result","allMatch","goCloud","showToast","icon"],"mappings":"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","file":"components/search.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./search.vue?vue&type=template&id=ec98b78e&\"\nvar renderjs\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./search.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"project/uniapp/myUniapp/components/search.vue\"\nexport default component.exports","export * from \"-!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=template&id=ec98b78e&\"","var components = {\n  \"uni-nav-bar\": function() {\n    return import(\n      /* webpackChunkName: \"components/uni-nav-bar/uni-nav-bar\" */ \"@/components/uni-nav-bar/uni-nav-bar.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.searchTxt.trim()\n  var g1 = _vm.searchTxt.trim()\n  var g2 = _vm.searchTxt.trim()\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        g2: g2\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\n// 防抖\r\nfunction debounce(fn, wait = 300) {\r\n\tvar timer = null;\r\n\treturn function() {\r\n\t\tif (timer !== null) clearTimeout(timer);\r\n\t\ttimer = setTimeout(fn, wait);\r\n\t};\r\n}\r\n\r\nvar that = null;\r\nimport uniNavBar from '@/components/uni-nav-bar/uni-nav-bar.vue';\r\nimport { apiGetSearchHot, apiSearchSuggest } from '@/apis/search.js';\r\n\r\nexport default {\r\n\tcomponents: {\r\n\t\tuniNavBar\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tisShow: false,\r\n\t\t\tisFocus: false,\r\n\t\t\tsearchTxt: '',\r\n\t\t\thistoryList: [],\r\n\t\t\thotList: [],\r\n\t\t\tsuggestList: []\r\n\t\t};\r\n\t},\r\n\tcreated() {\r\n\t\tthat = this;\r\n\t},\r\n\tmethods: {\r\n\t\tclose() {\r\n\t\t\tthis.$emit('close');\r\n\t\t\tthis.isShow = false;\r\n\t\t\tthis.searchTxt = '';\r\n\t\t\tthis.suggestList = [];\r\n\t\t},\r\n\t\topen() {\r\n\t\t\tthis.isShow = true;\r\n\t\t\tthis.isFocus = true;\r\n\t\t\tthis.getSearchList();\r\n\t\t\tthis.getHotList();\r\n\t\t},\r\n\t\tblurSearch() {\r\n\t\t\tthis.isFocus = false;\r\n\t\t},\r\n\t\t// 获取热门搜索\r\n\t\tgetHotList() {\r\n\t\t\tif (this.hotList.length) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tapiGetSearchHot().then(res => {\r\n\t\t\t\tthis.hotList = res.data;\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 获取搜索历史\r\n\t\tgetSearchList() {\r\n\t\t\ttry {\r\n\t\t\t\tconst value = uni.getStorageSync('searchlist');\r\n\t\t\t\tif (value) {\r\n\t\t\t\t\tthis.historyList = JSON.parse(value);\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {}\r\n\t\t},\r\n\t\t// 清除历史\r\n\t\tclearSearch() {\r\n\t\t\tuni.showModal({\r\n\t\t\t\ttitle: '',\r\n\t\t\t\tcontent: '确认清除全部历史记录',\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\tuni.setStorageSync('searchlist', '');\r\n\t\t\t\t\t\tthis.historyList = [];\r\n\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 添加搜索\r\n\t\taddSearch() {\r\n\t\t\tconst txt = this.searchTxt.trim();\r\n\t\t\tif (txt.length == 0) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tconst tempIndex = this.historyList.indexOf(txt);\r\n\t\t\tif (tempIndex !== -1) {\r\n\t\t\t\tthis.historyList.splice(tempIndex, 1);\r\n\t\t\t}\r\n\r\n\t\t\tthis.historyList.unshift(txt);\r\n\t\t\tif (this.historyList.length > 7) {\r\n\t\t\t\tthis.historyList = this.historyList.slice(0, 7);\r\n\t\t\t}\r\n\t\t\tuni.setStorageSync('searchlist', JSON.stringify(this.historyList));\r\n\t\t},\r\n\t\t// 输入搜索\r\n\t\tinputSearch: debounce(() => {\r\n\t\t\t// 未搜索或者写入空格的情况下不显示搜索建议\r\n\t\t\tif (!that.searchTxt.trim().length) {\r\n\t\t\t\tthat.suggestList = [];\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tconst par = {\r\n\t\t\t\ttype: 'mobile',\r\n\t\t\t\tkeywords: that.searchTxt.trim()\r\n\t\t\t};\r\n\t\t\t// 请求后台数据\r\n\t\t\tapiSearchSuggest(par).then(res => {\r\n\t\t\t\tthat.suggestList = res.result.allMatch;\r\n\t\t\t});\r\n\t\t}),\r\n\t\tgoCloud() {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ticon: 'none',\r\n\t\t\t\ttitle: '功能未开发'\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n","import mod from \"-!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1592970747437\n      var cssReload = require(\"D:/software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}