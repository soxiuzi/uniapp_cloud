{"version":3,"sources":["webpack:///D:/project/uniapp/myUniapp/components/scan/scan.vue?243c","webpack:///D:/project/uniapp/myUniapp/components/scan/scan.vue?d314","webpack:///D:/project/uniapp/myUniapp/components/scan/scan.vue?f75b","webpack:///D:/project/uniapp/myUniapp/components/scan/scan.vue?1969","webpack:///D:/project/uniapp/myUniapp/components/scan/scan.vue"],"names":["data","typeList","plus","barcode","QR","methods","open","pages","getCurrentPages","currentWebView","length","$getAppWebview","create","position","top","left","width","height","onmarked","append","start","close","type","result","openStartRecognize","$emit","strRegex","reg","RegExp","test","barcodeWebview","webview","titleNView","autoBackButton","backgroundColor","titleColor","backButtonAutoControl","hardwareAccelerated","background","show","title","getTitle"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;;;AAGnD;AAC+K;AAC/K,gBAAgB,sLAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA6pB,CAAgB,2pBAAG,EAAC,C;;;;;;;;;;;;wFCAjrB;AACA;AACA;AACA;;AAEe;AACdA,MADc,kBACP;AACN,WAAO;AACNC,cAAQ,EAAE,CAAE;AACXC,UAAI,CAACC,OAAL,CAAaC,EADJ,CADJ,EAAP;;;AAKA,GAPa;AAQdC,SAAO,EAAE;AACRC,QADQ,kBACD;AACN;AACA,UAAIC,KAAK,GAAGC,eAAe,EAA3B;AACA,UAAIC,cAAc,GAAGF,KAAK,CAACA,KAAK,CAACG,MAAN,GAAe,CAAhB,CAAL,CAAwBC,cAAxB,EAArB;AACA;AACA,WAAKR,OAAL,GAAeD,IAAI,CAACC,OAAL,CAAaS,MAAb,CAAoB,SAApB,EAA+B,KAAKX,QAApC,EAA8C;AAC5DY,gBAAQ,EAAE,OADkD;AAE5DC,WAAG,EAAE,MAFuD;AAG5DC,YAAI,EAAE,KAHsD;AAI5DC,aAAK,EAAE,MAJqD;AAK5DC,cAAM,EAAE,MALoD,EAA9C,CAAf;;;AAQA;AACA,WAAKd,OAAL,CAAae,QAAb,GAAwB,KAAKA,QAA7B;;AAEA;AACAT,oBAAc,CAACU,MAAf,CAAsB,KAAKhB,OAA3B;;AAEA;AACA,WAAKA,OAAL,CAAaiB,KAAb;AACA,KAtBO;AAuBR;AACAC,SAxBQ,mBAwBA;AACP,WAAKlB,OAAL,CAAakB,KAAb;AACA,KA1BO;AA2BR;AACAH,YA5BQ,oBA4BCI,IA5BD,EA4BMC,MA5BN,EA4Bc;AACrB,WAAKC,kBAAL,CAAwBD,MAAxB;AACA,WAAKE,KAAL,CAAW,SAAX,EAAsBF,MAAtB;AACA,WAAKF,KAAL;AACA,KAhCO;AAiCR;AACAG,sBAlCQ,8BAkCWD,MAlCX,EAkCmB;AAC1B,UAAIG,QAAQ,GAAG,8FAAf;AACA,UAAIC,GAAG,GAAG,IAAIC,MAAJ,CAAWF,QAAX,CAAV;AACA,UAAIC,GAAG,CAACE,IAAJ,CAASN,MAAT,CAAJ,EAAsB;AACrB,eAAO,KAAP;AACA;;AAED;AACA,UAAIO,cAAc,GAAG5B,IAAI,CAAC6B,OAAL,CAAanB,MAAb,CAAoBW,MAApB,EAA4B,gBAA5B,EAA8C;AAClES,kBAAU,EAAE;AACXC,wBAAc,EAAE,IADL;AAEXC,yBAAe,EAAE,MAFN;AAGXC,oBAAU,EAAE,MAHD,EADsD;;AAMlEC,6BAAqB,EAAE,MAN2C;AAOlEC,2BAAmB,EAAE,IAP6C;AAQlEC,kBAAU,EAAE,MARsD,EAA9C,CAArB;;AAUAR,oBAAc,CAACS,IAAf,CAAoB,gBAApB,EAAsC,GAAtC,EAA2C,YAAW;AACrD,YAAIC,KAAK,GAAGV,cAAc,CAACW,QAAf,EAAZ;AACA,OAFD;AAGA,KAvDO,EARK,E","file":"components/scan/scan.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./scan.vue?vue&type=template&id=70a88964&\"\nvar renderjs\nimport script from \"./scan.vue?vue&type=script&lang=js&\"\nexport * from \"./scan.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"project/uniapp/myUniapp/components/scan/scan.vue\"\nexport default component.exports","export * from \"-!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./scan.vue?vue&type=template&id=70a88964&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./scan.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./scan.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\ttypeList: [ // 码类型\n\t\t\t\tplus.barcode.QR\n\t\t\t]\n\t\t}\n\t},\n\tmethods: {\n\t\topen() {\n\t\t\t// 创建上层Webview\n\t\t\tlet pages = getCurrentPages()\n\t\t\tlet currentWebView = pages[pages.length - 1].$getAppWebview();\n\t\t\t// 创建一个扫码框\n\t\t\tthis.barcode = plus.barcode.create('barcode', this.typeList, {\n\t\t\t\tposition: 'fixed',\n\t\t\t\ttop: '64px',\n\t\t\t\tleft: '0px',\n\t\t\t\twidth: '100%',\n\t\t\t\theight: '100%',\n\t\t\t});\n\t\t\t\n\t\t\t// 扫码成功回调\n\t\t\tthis.barcode.onmarked = this.onmarked\n\t\t\t\n\t\t\t// 添加到当前webview\n\t\t\tcurrentWebView.append(this.barcode)\n\t\t\t\n\t\t\t// 打开扫码\n\t\t\tthis.barcode.start()\n\t\t},\n\t\t// 关闭扫码\n\t\tclose() {\n\t\t\tthis.barcode.close()\n\t\t},\n\t\t// 扫码成功\n\t\tonmarked(type,result) {\n\t\t\tthis.openStartRecognize(result)\n\t\t\tthis.$emit('success', result)\n\t\t\tthis.close()\n\t\t},\n\t\t// 打开识别，网址跳转\n\t\topenStartRecognize(result) {\n\t\t\tlet strRegex = /^([hH][tT]{2}[pP]:\\/\\/|[hH][tT]{2}[pP][sS]:\\/\\/|www\\.)(([A-Za-z0-9-~]+)\\.)+([A-Za-z0-9-~])+$/;\n\t\t\tlet reg = new RegExp(strRegex)\n\t\t\tif (reg.test(result)) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\t\n\t\t\t// 创建一个webview页面\n\t\t\tlet barcodeWebview = plus.webview.create(result, 'barcodeWebview', {\n\t\t\t\ttitleNView: {\n\t\t\t\t\tautoBackButton: true,\n\t\t\t\t\tbackgroundColor: '#fff',\n\t\t\t\t\ttitleColor: '#333'\n\t\t\t\t},\n\t\t\t\tbackButtonAutoControl: 'hide',\n\t\t\t\thardwareAccelerated: true,\n\t\t\t\tbackground: '#fff'\n\t\t\t})\n\t\t\tbarcodeWebview.show('slide-in-right', 200, function() {\n\t\t\t\tlet title = barcodeWebview.getTitle()\n\t\t\t})\n\t\t}\n\t}\n}\n"],"sourceRoot":""}